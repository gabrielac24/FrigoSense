<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container d-flex flex-column align-items-center justify-content-center min-vh-100">
    <div class="card shadow-lg p-4 text-center" style="max-width: 400px; width: 100%; border-radius: 12px;">
      <h2 class="text-primary"> Consultar clima
        <i class="fas fa-cloud-sun"></i> <!-- Ícono actualizado -->
      </h2>
      <div class="input-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="city" placeholder="Ingresar una ciudad">
        <button class="btn btn-primary" (click)="getWeather()">
          <i class="fas fa-search"></i> Buscar
        </button>
      </div>
      <div id="weatherInfo" *ngIf="weatherInfo" 
           class="mt-4 p-3 rounded text-center"
           [ngClass]="{'bg-danger text-white': weatherInfo.error, 'bg-light shadow': !weatherInfo.error}">

        <h3 class="fw-bold">
          <i class="fas fa-map-marker-alt"></i> {{ weatherInfo.name }}, {{ weatherInfo.country }}
        </h3>
        <p class="temp display-6">
          <i class="fas fa-thermometer-half"></i> {{ weatherInfo.temp }}°C
        </p>

        <!-- Contenedor en filas de 2 en 2 -->
        <div class="row mt-3">
          <div class="col-6 d-flex align-items-center">
            <i class="fas fa-wind me-2"></i> <span>Viento: {{ weatherInfo.wind }} m/s</span>
          </div>
          <div class="col-6 d-flex align-items-center">
            <i class="fas fa-tint me-2"></i> <span>Humedad: {{ weatherInfo.humidity }}%</span>
          </div>
          <div class="col-6 d-flex align-items-center">
            <i class="fas fa-cloud-rain me-2"></i> <span>Precipitación: {{ weatherInfo.precip }} mm</span>
          </div>
          <div class="col-6 d-flex align-items-center">
            <i [ngClass]="weatherIconClass" class="me-2"></i> <span>Cielo: {{ weatherInfo.description }}</span>
          </div>
          <div class="col-6 d-flex align-items-center">
            <i class="fas fa-sun me-2"></i> <span>Amanecer: {{ weatherInfo.sunrise }} a.m.</span>
          </div>
          <div class="col-6 d-flex align-items-center">
            <i class="fas fa-moon me-2"></i> <span>Atardecer: {{ weatherInfo.sunset }} p.m.</span>
          </div>
        </div>
      </div>
      <datalist id="cityOptions">
        <option *ngFor="let city of predefinedCities" [value]="city.nombre"></option>
        <option *ngFor="let historyCity of searchHistory" [value]="historyCity"></option>
      </datalist>
    </div>
  </div>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
